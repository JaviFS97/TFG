{"remainingRequest":"/home/javi/Escritorio/TFG - Web/tfg-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/javi/Escritorio/TFG - Web/tfg-web/src/components/maps/MapRegister.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/javi/Escritorio/TFG - Web/tfg-web/src/components/maps/MapRegister.vue","mtime":1579113503366},{"path":"/home/javi/Escritorio/TFG - Web/tfg-web/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/javi/Escritorio/TFG - Web/tfg-web/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/javi/Escritorio/TFG - Web/tfg-web/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/javi/Escritorio/TFG - Web/tfg-web/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/home/javi/Escritorio/TFG - Web/tfg-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/javi/Escritorio/TFG - Web/tfg-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#map { \n    position:absolute; \n    top:275px; \n    bottom: 75px; \n    width:95%; \n}\n",{"version":3,"sources":["MapRegister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA","file":"MapRegister.vue","sourceRoot":"src/components/maps","sourcesContent":["<template>\n    <div>\n        <v-row justify=\"center\">\n            Put a marker in your garaje door.\n        </v-row>\n        \n\n    <div>\n        <script type=\"application/javascript\" src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.0/mapbox-gl.js'></script>\n        <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.0/mapbox-gl.css' rel='stylesheet' />\n        \n        <div id='map' @click=\"updatedMarker\"></div>\n    </div>\n        </div>\n</template>\n\n\n<script>\n    import mapboxgl from 'mapbox-gl'\n\n    var map = null\n\n    export default {\n        mounted() {\n            mapboxgl.accessToken = 'pk.eyJ1IjoicHJ1ZWJhMSIsImEiOiJjazFpNm1kNDAwMzJhM2ltbmRwcXJxbzUyIn0.xp_6hLfEEPqJsPfQA4pmNg';\n            map = new mapboxgl.Map({\n                container: 'map', \n                style: 'mapbox://styles/mapbox/streets-v11', \n                center: [4.50, 40], \n                zoom: 0\n            });  \n\n            map.addControl(new mapboxgl.GeolocateControl({\n                positionOptions: {\n                    enableHighAccuracy: true\n                },\n                trackUserLocation: true\n            }));\n            \n            /**\n             * Listener to click event.\n             * Only allows one marker in the map. \n             * If there is a marker in the map and user clicks in map => The first marker will be removed \n             * and the second one will be added.\n             */\n            map.on('click', function(event){\n                if(!this.garajeDoor){                    \n                    this.garajeDoor = new mapboxgl.Marker().setLngLat(event.lngLat).addTo(map)\n                }else {\n                    this.garajeDoor.remove()\n                    this.garajeDoor = new mapboxgl.Marker().setLngLat(event.lngLat).addTo(map)\n                }\n            });  \n        },\n\n        methods: {\n            /**\n             * Throw events to parents.\n             */\n            updatedMarker(){\n                this.$emit('updatedMarkerFromMap', map.garajeDoor);\n            }, \n                   \n        },\n\n    }\n\n</script>\n\n\n<style>\n    #map { \n        position:absolute; \n        top:275px; \n        bottom: 75px; \n        width:95%; \n    }\n</style>\n\n"]}]}